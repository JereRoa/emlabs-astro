---
import { Picture } from "astro:assets"
import Layout from "../layouts/Layout.astro"
import { BaseWPSchema } from '@/types'
const url = 'http://emlabs.local/wp-json/wp/v2/pages?slug=nosotros'
const response = await fetch(url)
const json = await response.json()
const data = BaseWPSchema.parse(json[0]) 
---

<Layout
title={data.title.rendered}
subtitle={data.acf.subtitle}
bgImage={data.featured_images.full.url}
>
    <div class="grid grid-cols1 lg:grid-cols-2 gap-10">
        <Picture
            src={data.featured_images.medium_large.url}
            alt={`Imagen de ${data.title.rendered}`}
            width={data.featured_images.medium_large.width}
            height={data.featured_images.medium_large.heigth}
            formats={['avif', 'webp']}
        />
        <div class="text-xl space-y-3 mt-10 lg:mt-0" set:html={data.content.rendered}></div>
    </div>

</Layout>